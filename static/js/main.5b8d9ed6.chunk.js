(this["webpackJsonpbug-squasher"]=this["webpackJsonpbug-squasher"]||[]).push([[0],{14:function(e,t,i){},15:function(e,t,i){},16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var a=i(0),c=i(2),n=i.n(c),r=i(8),s=i.n(r),u=(i(14),i(5)),o=i(3),h=i(1),d=(i(15),50),v={normal:{speed:1,rotation:.5},excited:{speed:2,rotation:2}};function b(e,t){switch(t.type){case"timeStep":if(!e.active)return e;var i=e.excited?v.excited:v.normal,a=e.x+i.speed*Math.cos(e.direction),c=e.y+i.speed*Math.sin(e.direction),n=e.direction+i.rotation*(Math.random()-.5);n%=2*Math.PI;var r=t.windowSize.width-d,s=t.windowSize.height-d;return a<0?(a=0,c<0?(c=0,n=n>5*Math.PI/4?0:Math.PI/2):c>s?(c=s,n=n>3*Math.PI/4?3*Math.PI/2:0):n=n>Math.PI?3*Math.PI/2:Math.PI/2):a>r?(a=r,c<0?(c=0,n=n>7*Math.PI/4?Math.PI/2:Math.PI):c>s?(c=s,n=n>Math.PI/4?Math.PI:3*Math.PI/2):n=n>Math.PI?3*Math.PI/2:Math.PI/2):c<0?(c=0,n=n>3*Math.PI/2?0:Math.PI):c>s&&(c=s,n=n>Math.PI/2?Math.PI:0),Object(h.a)(Object(h.a)({},e),{},{x:a,y:c,direction:n});case"scare":return!e.active||e.excited?e:(setTimeout((function(){return t.dispatch({type:"calm"})}),5e3),Object(h.a)(Object(h.a)({},e),{},{excited:!0}));case"calm":return Object(h.a)(Object(h.a)({},e),{},{excited:!1});case"squash":return e.active?(setTimeout((function(){return t.dispatch({type:"wakeUp"})}),1e3*e.downtime),Object(h.a)(Object(h.a)({},e),{},{active:!1,downtime:e.downtime+1})):e;case"wakeUp":return Object(h.a)(Object(h.a)({},e),{},{active:!0});default:return e}}var g=function(e){var t,i=Object(c.useReducer)(b,(t=e.windowSize,{active:!0,excited:!1,x:Math.random()*t.width,y:Math.random()*t.height,direction:2*Math.random()*Math.PI,downtime:1})),n=Object(u.a)(i,2),r=n[0],s=n[1],o=Object(c.useCallback)((function(){s({type:"timeStep",windowSize:e.windowSize})}),[e.windowSize]);Object(c.useEffect)((function(){var e=setInterval(o,20);return function(){return clearInterval(e)}}),[o]);var h=e.id,v=e.appDispatch;return Object(c.useEffect)((function(){if(v({type:r.active?"awoke":"squashed",key:h}),r.active){var e=setTimeout((function(){v({type:"escaped",key:h})}),9e4);return function(){return clearTimeout(e)}}}),[r.active,h,v]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"Bug",style:{left:r.x,top:r.y,height:d,width:d,boxShadow:r.active?"0px 2px 6px rgba(0, 0, 0, 0.5)":"0px 0px 3px rgba(0, 0, 0, 0.5)"},onClick:function(){return s({type:"squash",dispatch:s})}}),Object(a.jsx)("div",{className:"bugAwareZone",style:{left:r.x-50,top:r.y-50,height:150,width:150},onClick:function(){return s({type:"scare",dispatch:s})}})]})};i(16);function j(){return{width:window.innerWidth,height:window.innerHeight}}function p(e,t){var i=e;switch(t.type){case"squashed":var a=e.activeBugs.filter((function(e){return e!==t.key}));a.length<e.activeBugs.length&&(i=Object(h.a)(Object(h.a)({},e),{},{activeBugs:a,inactiveBugs:[].concat(Object(o.a)(e.inactiveBugs),[t.key])}));break;case"awoke":var c=e.inactiveBugs.filter((function(e){return e!==t.key}));c.length<e.inactiveBugs.length&&(i=Object(h.a)(Object(h.a)({},e),{},{activeBugs:[].concat(Object(o.a)(e.activeBugs),[t.key]),inactiveBugs:c}));break;case"escaped":i=Object(h.a)(Object(h.a)({},e),{},{activeBugs:e.activeBugs.filter((function(e){return e!==t.key}))})}return i.inactiveBugs.length>i.highScore&&(i.highScore=i.inactiveBugs.length),0===i.activeBugs.length&&(i.activeBugs=[].concat(Object(o.a)(i.activeBugs),[Date.now()])),i}var w=function(){var e=Object(c.useState)(j()),t=Object(u.a)(e,2),i=t[0],n=t[1],r=Object(c.useReducer)(p,{activeBugs:[Date.now()],inactiveBugs:[],highScore:0}),s=Object(u.a)(r,2),h=s[0],d=s[1];return Object(c.useEffect)((function(){var e=function(){return n(j())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"scores",children:[Object(a.jsxs)("div",{children:["CURRENT SCORE: ",h.inactiveBugs.length]}),Object(a.jsxs)("div",{children:["HIGH SCORE: ",h.highScore]})]}),[].concat(Object(o.a)(h.inactiveBugs.map((function(e){return Object(a.jsx)(g,{id:e,windowSize:i,appDispatch:d},e)}))),Object(o.a)(h.activeBugs.map((function(e){return Object(a.jsx)(g,{id:e,windowSize:i,appDispatch:d},e)})).reverse()))]})},f=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,18)).then((function(t){var i=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;i(e),a(e),c(e),n(e),r(e)}))};s.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),f()}},[[17,1,2]]]);
//# sourceMappingURL=main.5b8d9ed6.chunk.js.map